"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("fs"),n=require("path");function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var c=e(t),o=e(n),u=".env.",r=function(t,n,e,o,u,r){var i=u?"prod":"dev",a=c.default.readFileSync(n,"utf8").split("\n").filter((function(t){return!t.includes("REACT_APP_MF_")})).filter((function(t){return!t.includes("HOST")})).filter((function(t){return!t.includes("REACT_APP_PUBLIC_PATH")})).filter((function(t){return!t.includes("REACT_APP_ROOT_PUBLIC_PATH")})).filter((function(t){return!t.includes("PORT")})).filter((function(t){return Boolean(null==t?void 0:t.trim())}));u&&a.push("HOST=".concat(e[t].host[i])),u||a.push("HOST=".concat(e[t].host[i].replace("https://","").replace("http://",""))),a.push("PORT=".concat(e[t].port[i])),a.push("REACT_APP_PUBLIC_PATH=".concat(e[t].publicPath[i])),a.push("REACT_APP_ROOT_PUBLIC_PATH=".concat(null==r?void 0:r.rootPublicPath[i])),(null==o?void 0:o.length)&&o.forEach((function(t){a.push("REACT_APP_MF_".concat(t.toUpperCase(),"=").concat(e[t].host[i],":").concat(e[t].port[i]).concat(e[t].publicPath[i],"remoteEntry.js")),a.push("REACT_APP_MF_".concat(t.toUpperCase(),"_PUBLIC_PATH=").concat(e[t].publicPath[i]))}));var l=a.join("\n");c.default.writeFileSync(n,l,"utf8")};exports.changeENV=function(t,n,e,c,i){var a=o.default.join(n,"".concat(u,"development")),l=o.default.join(n,"".concat(u,"production"));r(t,a,e,c,!1,i),r(t,l,e,c,!0,i)};
