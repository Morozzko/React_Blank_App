"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../node_modules/tslib/tslib.es6.mjs.js"),n=require("fs"),t=require("../../libs/download-locale/node_modules/node-fetch/src/index.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=o(n),c=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var t={};return e.forEach((function(e){"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(n){var o=e[n];t[n]="object"==typeof o&&null!==o?c(t[n]||{},o):o}))})),t};exports.createDictionary=function(n){var t=n[0].reduce((function(n,t,o){var r;return o?e.__assign(e.__assign({},n),((r={})[o]={_fileName:"".concat(t)},r)):n}),{});return n.reduce((function(n,t,o){if(!o)return n;var r=t.reduce((function(n,o,r){var c,i,a;if(!r)return(c={})[r]=o,c;if(1===t.length)return n;var u=e.__assign(e.__assign({},n),((i={})[r]=((a={})[n[0]]=o,a),i));return r+1===t.length?(delete u[0],u):u}),{});return c(n,r)}),t)},exports.createFile=function(n,t,o){return e.__awaiter(void 0,void 0,void 0,(function(){var c,i=n._fileName,a=e.__rest(n,["_fileName"]);return void 0===o&&(o="common.json"),e.__generator(this,(function(e){return c="".concat(t,"/").concat(i),r.default.mkdir(c,{recursive:!0},(function(e){e&&console.log(e),e||r.default.writeFile("".concat(t,"/").concat(i,"/").concat(o),JSON.stringify(a),(function(e){e&&console.log(e),e||console.log("[35m",'File: "'.concat(t,"/").concat(i,"/").concat(o,'" created'),"[0m")}))})),[2]}))}))},exports.downloadGoogleSheet=function(n){return e.__awaiter(void 0,void 0,void 0,(function(){var o;return e.__generator(this,(function(e){switch(e.label){case 0:return console.log("[35m","Download table: ".concat(n),"[0m"),[4,t.default(n)];case 1:return[4,e.sent().json()];case 2:return[2,null==(o=e.sent())?void 0:o.values]}}))}))};
